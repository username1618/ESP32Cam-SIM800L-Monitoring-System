# ESP32-CAM + SIM800L: –£–º–Ω–∞—è –∫–∞–º–µ—Ä–∞ —Å GSM —Å–≤—è–∑—å—é üöÄüì°


## –ê–≤—Ç–æ–Ω–æ–º–Ω–∞—è IoT-–∫–∞–º–µ—Ä–∞ —Å –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–º —ç–Ω–µ—Ä–≥–æ—Å–±–µ—Ä–µ–∂–µ–Ω–∏–µ–º –∏ –ø–µ—Ä–µ–¥–∞—á–µ–π –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ GPRS/HTTP/FTP


## üåü –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
* üì∑ –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è —Å—ä–µ–º–∫–∞
  - –ê–≤—Ç–æ–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∫–∞–º–µ—Ä—ã (—ç–∫—Å–ø–æ–∑–∏—Ü–∏—è, –±–∞–ª–∞–Ω—Å –±–µ–ª–æ–≥–æ, —Ñ–∏–ª—å—Ç—Ä—ã)
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –¥–æ 1600x1200 —Å –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã–º–∏ —Ñ–∏–∫—Å–∞–º–∏ –¥–ª—è AI-Thinker

* ‚ö° –£–ª—å—Ç—Ä–∞-–Ω–∏–∑–∫–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ
  - –ì–∏–±—Ä–∏–¥–Ω—ã–π —Ä–µ–∂–∏–º —Å–Ω–∞ (–≥–ª—É–±–æ–∫–∏–π/–ª–µ–≥–∫–∏–π —Å–æ–Ω)
  - –î–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ª–µ—Ç —Ä–∞–±–æ—Ç—ã –æ—Ç –±–∞—Ç–∞—Ä–µ–∏ 18650 –≤ —Ä–µ–∂–∏–º–µ –æ–∂–∏–¥–∞–Ω–∏—è!
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–±—É–∂–¥–µ–Ω–∏–µ –ø–æ —Ç–∞–π–º–µ—Ä—É / PIR


* üì° –ù–∞–¥–µ–∂–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö
  - –î–≤–æ–π–Ω–æ–π —Ä–µ–∂–∏–º –æ—Ç–ø—Ä–∞–≤–∫–∏: HTTP –∏/–∏–ª–∏ FTP
  - –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–∏ —Å–±–æ—è—Ö (–¥–æ 3 –ø–æ–ø—ã—Ç–æ–∫)
  - –°–ú–°-–æ–ø–æ–≤–µ—â–µ–Ω–∏—è –∏ –≥–æ–ª–æ—Å–æ–≤—ã–µ –≤—ã–∑–æ–≤—ã –ø—Ä–∏ —Ç—Ä–µ–≤–æ–≥–µ

* üß† –°–∞–º–æ–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è —Å–∏—Å—Ç–µ–º–∞
  - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å —Å–µ—Ä–≤–µ—Ä–∞
  - –ê–≤—Ç–æ–ø–æ–¥–±–æ—Ä APN –¥–ª—è –ª—é–±–æ–≥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ —Å–≤—è–∑–∏


## üõ† –ê–ø–ø–∞—Ä–∞—Ç–Ω–∞—è —á–∞—Å—Ç—å
* ESP32-CAM (AI-Thinker)
* –ú–æ–¥—É–ª—å SIM800L
* –î–∞—Ç—á–∏–∫ DHT11 –∏ –¥–µ–ª–∏—Ç–µ–ª—å –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è –¥–ª—è –ê–ö–ë
* –ò—Å—Ç–æ—á–Ω–∏–∫ –ø–∏—Ç–∞–Ω–∏—è 3.7-5–í —Å –ø–∏–∫–æ–≤—ã–º —Ç–æ–∫–æ–º 2–ê+
‚Ä¢ ESP32-CAM (OV2640, AI_THINKER) (https://www.ozon.ru/product/modul-esp32-cam-s-kameroy-1727032723/?at=MZtvBNAMEt7PVg0jHwMZLrDFxjZMOGIWK0n0VHDqpVDK)
‚Ä¢ SIM800L (https://www.ozon.ru/product/modul-gsm-gprs-sim800l-s-antennoy-933031795/)
‚Ä¢ TTL UART –ø—Ä–æ–≥—Ä–∞–º–º–∞—Ç–æ—Ä USB CP2102 (https://www.ozon.ru/product/adapter-perehodnik-usb-v-uart-ttl-s-provodami-na-baze-cp2102-1298477376/?at=z6tOW5AQJcwgw45Lu77EBNPs1jB9JKiQQ1NoYTVBOKZy)
‚Ä¢ –ü–æ–Ω–∏–∂–∞—é—â–∏–π –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å GSMIN MP1584EN DC-DC (https://www.ozon.ru/product/ponizhayushchiy-preobrazovatel-napryazheniya-gsmin-mp1584en-dc-dc-2sht-zelenyy-1563527322/?from_sku=1563527322&oos_search=false)
‚Ä¢ –†–∞–∑—ä–µ–º SMA-female –¥–ª—è –ê–Ω—Ç–µ–Ω–Ω—ã (https://www.ozon.ru/product/megafon-antenna-dlya-setevogo-oborudovaniya-lte-usb-modem-with-wi-fi-hotspot-1752053568/)
‚Ä¢ –ê–Ω—Ç–µ–Ω–Ω–∞ GSM (https://www.ozon.ru/product/antenna-gsm-dlya-sotovogo-signala-routera-sma-orbita-ot-gsm27-1705559235/)
‚Ä¢ –ú–∞–∫–µ—Ç–Ω–∞—è –ø–ª–∞—Ç–∞ 40x60 (https://www.ozon.ru/product/maketnaya-plata-40x60-dvustoronnyaya-5-shtuk-303825732/?at=BrtzWYOpEsXgl5kkf0PP2YJunQN6LQTVM6JkXhzNWLXr)
‚Ä¢ PLD —Ä–∞–∑—ä–µ–º—ã (https://www.ozon.ru/product/shtyrevye-odnoryadnye-razemy-na-platu-mama-pbs-40-40-pin-2-54-mm-10-shtuk-pld-razem-dlya-proektov-1051231516/?at=Z8tXKJprOUKrwDWLH2YLpY1F1lVKvlcBP2oJkuxOPooq)
‚Ä¢ SIM-–∫–∞—Ä—Ç–∞ (https://www.ozon.ru/product/sim-karta-t2-10-gb-novyy-nomer-nepublichnyy-tarif-dlya-modema-routera-smartfona-plansheta-1766520536/?oos_search=false&prev_collection=34135299)
‚Ä¢ –ù–∞–±–æ—Ä —Ä–µ–∑–∏—Å—Ç–æ—Ä–æ–≤
‚Ä¢ –ö–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä—ã
‚Ä¢ –ü—Ä–æ–≤–æ–¥–∞ –¥–ª—è –ø–∞–π–∫–∏
‚Ä¢ –ú–∞–∫–µ—Ç–Ω—ã–µ –ø—Ä–æ–≤–æ–¥–∞
‚Ä¢ –¢–µ—Ä–º–æ—É—Å–∞–¥–∫–∏
‚Ä¢ –ü—Ä–∏–ø–æ–π (https://www.ozon.ru/product/pripoy-dlya-payki-pos-61-s-kanifolyu-diametr-0-8-mm-100-gr-provoloka-na-katushke-trubka-olovo-601139208/)
‚Ä¢ –§–ª—é—Å (https://www.ozon.ru/product/flyus-dlya-montazha-smd-bga-soyuz-apollon-6-412-a-rusflux-10ml-864411396/)

–ü–∏—Ç–∞–Ω–∏–µ –æ—Ç PowerBank:
‚Ä¢ USB –ö–∞–±–µ–ª—å –ø–∏—Ç–∞–Ω–∏—è –±–µ–∑ –¥–∞—Ç–∞-–ª–∏–Ω–∏–∏–π (https://www.ozon.ru/product/kabel-dlya-zaryadki-i-peredachi-dannyh-supertolstyy-bold-micro-usb-chernyy-3a-tpe-1-m-smartbuy-1525584666/)

–ü–∏—Ç–∞–Ω–∏–µ –æ—Ç –ê–ö–ë —Å –¥–∞—Ç—á–∏–∫–æ–º –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è:
‚Ä¢ USB –ö–∞–±–µ–ª—å –ø–∏—Ç–∞–Ω–∏—è —Å –¥–∞—Ç–∞-–ª–∏–Ω–∏—è–º–∏ (https://www.ozon.ru/product/kabel-micro-usb-kabel-dlya-zaryadki-shnur-dlya-zaryadki-2-metra-emyx-1001044602/)
‚Ä¢ –ü–æ–Ω–∏–∂–∞—é—â–∏–π –º–æ–¥—É–ª—å DC-DC LM2596S (https://www.ozon.ru/product/reguliruemyy-ponizhayushchiy-modul-dc-dc-lm2596s-preobrazovatel-vstraivaemyy-621665954/?at=OgtE1WyzqTryJRgXUo50L2RU28QgxrSA62GvMFM9j11N)
‚Ä¢ –ì–Ω–µ–∑–¥–æ –ø–∏—Ç–∞–Ω–∏—è USB (https://www.ozon.ru/product/gnezdo-pitaniya-usb-ustanovochnoe-na-korpus-4pin-zashchelki-dlina-105mm-1210637303/)
‚Ä¢ –î–∞—Ç—á–∏–∫ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è (https://www.ozon.ru/product/datchik-napryazheniya-do-25-v-313926650/) –∏–ª–∏ —Å–æ–±—Ä–∞—Ç—å —Å–≤–æ–π –¥–µ–ª–∏—Ç–µ–ª—å –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è –Ω–∞ —Ä–µ–∑–∏—Å—Ç–æ—Ä–∞—Ö.
‚Ä¢ –ö–ª–µ–º–º—ã –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–Ω—ã–µ –∞–≤—Ç–æ–º–æ–±–∏–ª—å–Ω—ã–µ –±—ã—Å—Ç—Ä–æ—Å—ä—ë–º–Ω—ã–µ(https://www.ozon.ru/product/klemmy-akkumulyatornye-avtomobilnye-bystrosemnye-izolirovannye-dlya-bystrogo-montazha-2-sht-1216196687/)

–î–∞—Ç—á–∏–∫–∏:
‚Ä¢ –î–∞—Ç—á–∏–∫ –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ –∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã DHT11 (https://www.ozon.ru/product/datchik-vlazhnosti-i-temperatury-dht11-arduino-1592869916/?at=oZt62O0jxtEkrnKOTEx2polfrOnm4Ks0x56rRT9mrwJY)
‚Ä¢ –ò–Ω—Ñ—Ä–∞–∫—Ä–∞—Å–Ω—ã–π –¥–∞—Ç—á–∏–∫ –¥–≤–∏–∂–µ–Ω–∏—è AM312 (https://www.ozon.ru/product/infrakrasnyy-datchik-dvizheniya-am312-dlya-arduino-1-sht-1739793295/)

–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ:
‚Ä¢ –î–∏–Ω–∞–º–∏–∫
‚Ä¢ –ú–∏–∫—Ä–æ—Ñ–æ–Ω

### –°—Ö–µ–º–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
```cpp
// –ü–æ—Ä—Ç UART2 –¥–ª—è —Å–≤—è–∑–∏ —Å GSM
Serial2.begin(115200, SERIAL_8N1, 14, 15); 

// –ö–ª—é—á–µ–≤—ã–µ –ø–∏–Ω—ã:
#define GSM_RESET_PIN 2    // Reset SIM800L
#define FLASH_LED_PIN 4    // –í—Å–ø—ã—à–∫–∞ –∫–∞–º–µ—Ä—ã
#define VOLT_SENSOR_PIN 12 // –î–∞—Ç—á–∏–∫ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è –ê–ö–ë
#define DHT_PIN 13         // –î–∞—Ç—á–∏–∫ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –∏ –≤–ª–∞–∂–Ω–æ—Å—Ç–∏
```

### –°–æ–≤–µ—Ç—ã –ø–æ –ø–∏—Ç–∞–Ω–∏—é:

ESP32 Cam –∏ SIM800L –ø–∏—Ç–∞—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ. SIM800L –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–ª—è—Ç—å –¥–æ 2–ê –≤ –ø–∏–∫–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö, –∏ –µ—Å–ª–∏ –∏—Å—Ç–æ—á–Ω–∏–∫ –ø–∏—Ç–∞–Ω–∏—è –Ω–µ –º–æ–∂–µ—Ç –æ–±–µ—Å–ø–µ—á–∏—Ç—å —Ç–∞–∫–æ–π —Ç–æ–∫, –æ–Ω –Ω–µ —Å–º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ç–∏. –¢–∞–∫–∂–µ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–æ–≤–æ–¥–∞, –ø–∏—Ç–∞—é—â–∏–µ SIM800L, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç–æ–ª—Å—Ç—ã–µ –∏ –Ω–µ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ–≤–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π —Å –∑–æ–ª–æ—Ç—ã–º–∏ –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏, —Å–ª–∏—à–∫–æ–º —Ç–æ–Ω–∫–∏–µ).
–Ø –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –¥–≤–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø–æ–Ω–∏–∂–∞—é—â–∏—Ö —Ä–µ–≥—É–ª–∏—Ä—É–µ–º—ã—Ö DC/DC –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç –ø–æ–¥–∞–≤–∞—Ç—å —Ç–æ—á–Ω–æ–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –Ω–∞ –∫–∞–∂–¥—ã–π –º–æ–¥—É–ª—å. –ü–∏—Ç–∞–Ω–∏–µ SIM800L –Ω–∞–ø—Ä—è–º—É—é –æ—Ç –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–∞ –Ω–∞ 3,7 –í —Ç–∞–∫–∂–µ –≤–æ–∑–º–æ–∂–Ω–æ, –æ–¥–Ω–∞–∫–æ, –∫–æ–≥–¥–∞ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –ø–∞–¥–∞–µ—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ –¥–æ 3,6 –í, —É SIM800L –º–æ–≥—É—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ GSM-—Å–µ—Ç–∏. –†–µ—à–µ–Ω–∏–µ–º —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º—ã –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä–∞ –Ω–∞ 1000 –º–∫–§, –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω–æ–≥–æ –∫ VCC –∏ GND SIM800L. –í –ª—é–±–æ–º —Å–ª—É—á–∞–µ, –∫–∞–∂–µ—Ç—Å—è, —á—Ç–æ –ª—É—á—à–µ–µ —Ä–µ—à–µ–Ω–∏–µ ‚Äî –ø–∏—Ç–∞—Ç—å SIM800L –æ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–∞ —Å –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–º –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–≤–∞ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–∞ –ø–æ 3,7 –í –≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏), –ø–æ–Ω–∏–∂–∞—è –≤—ã—Ö–æ–¥–Ω–æ–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –¥–æ 3,8 - 4,2 –í —Å –ø–æ–º–æ—â—å—é –ø–æ–Ω–∏–∂–∞—é—â–µ–≥–æ DC-—Ä–µ–≥—É–ª—è—Ç–æ—Ä–∞.

‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ DC-DC –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª–∏ –¥–ª—è ESP32 –∏ SIM800L

‚úÖ –î–æ–±–∞–≤—å—Ç–µ –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä 1000–º–∫–§ –∫ –ø–∏—Ç–∞–Ω–∏—é GSM –º–æ–¥—É–ª—è

‚úÖ –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ: 4.0–í ¬±5% –¥–ª—è SIM800L


## üíª –ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
```cpp
// –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤ RTC-–ø–∞–º—è—Ç–∏
struct DeviceSettings {
    int sleep_time = 30;    // –º–∏–Ω—É—Ç—ã
    uint8_t jpeg_quality = 12;
    bool pinkTintFix = true;// –ê–ø–ø–∞—Ä–∞—Ç–Ω—ã–π —Ñ–∏–∫—Å –æ—Ç—Ç–µ–Ω–∫–æ–≤
    // ...50+ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
};
```

### –§–∏—à–∫–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:
* –ú–µ–¥–∏–∞–Ω–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∑–∞–º–µ—Ä–æ–≤ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è –∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã
* –ö–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏–µ ADC-–∑–∞–º–µ—Ä–æ–≤ –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è —à—É–º–æ–≤
* –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ—Å—Ç–∞—Ä—Ç GSM –ø—Ä–∏ –∑–∞–≤–∏—Å–∞–Ω–∏–∏
* –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Ä–∞–∑–º–µ—Ä –ø–∞–∫–µ—Ç–æ–≤ –ø—Ä–∏ FTP-–ø–µ—Ä–µ–¥–∞—á–µ


## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è
MIT License
